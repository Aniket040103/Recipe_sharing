{% extends 'base.html' %}

{% block content %}
    <h1 class="mb-4">Update Recipe</h1>
    <form method="post" enctype="multipart/form-data">  <!-- enctype is important for file uploads -->
        {% csrf_token %}
        <div class="mb-3">
            <input type="text" name="title" class="form-control" value="{{ recipe.title }}" required>
        </div>
        <div class="mb-3">
            <textarea name="description" class="form-control" required>{{ recipe.description }}</textarea>
        </div>
        <div class="mb-3">
            <textarea name="ingredients" class="form-control" required>{{ recipe.ingredients }}</textarea>
        </div>
        <div class="mb-3">
            <textarea name="instructions" class="form-control" required>{{ recipe.instructions }}</textarea>
        </div>
        <div class="mb-3">
            <label for="image">Image:</label>
            {% if recipe.image %}
                <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}" width="200">
            {% else %}
                <img src="https://via.placeholder.com/350x200" class="card-img-top" alt="No Image Available">
            {% endif %}
            <input type="file" name="image" class="form-control mt-2">
        </div>
        <button type="submit" class="btn btn-primary">Update Recipe</button>
        <a href="{% url 'recipe_list' %}" class="btn btn-secondary">Cancel</a>
    </form>
{% endblock %}
